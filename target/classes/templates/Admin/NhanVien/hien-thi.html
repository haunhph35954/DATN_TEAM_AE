<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/head :: head"></head>
<style>
    .is-invalid {
        border: 1px solid red !important;
    }

    .error-message {
        color: red;
        font-size: 0.9em;
    }
</style>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

    <div th:replace="admin/fragments/header :: header"></div>
    <!-- =============================================== -->

    <!-- Left side column. contains the sidebar -->
    <div th:replace="admin/fragments/sidebar :: sidebar"></div>

    <!-- =============================================== -->
    <!--    ti√™u ƒë·ªÅ ch·ªØ-->
    <style>
        .content-header {
            background: linear-gradient(to right, #3a3f51, #2c2f3e);
            padding: 20px;
            border-radius: 12px 12px 0 0;
            margin-bottom: 20px;
            text-align: center;
        }

        .content-header h2 {
            color: white;
            font-weight: 700;
            margin: 0;
        }
    </style>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h2>üëî Nh√¢n vi√™n</h2>
        </section>

        <!-- Main content -->
        <section class="content">

            <!-- Default box -->
            <div class="box">
                <div class="box-body">

                    <!-- N√∫t m·ªü modal -->
                    <div class="d-flex justify-content-end mb-3">
                        <button class="btn btn-primary fw-bold" data-bs-toggle="modal"
                                data-bs-target="#modalAddNhanVien">
                            <i class="bi bi-person-plus"></i> Th√™m Nh√¢n Vi√™n
                        </button>
                    </div>

                    <!-- Modal Th√™m Nh√¢n Vi√™n -->
                    <div class="modal fade" id="modalAddNhanVien" tabindex="-1" aria-labelledby="addNhanVienLabel"
                         aria-hidden="true">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header bg-primary text-white">
                                    <h5 class="modal-title" id="addNhanVienLabel"><i class="bi bi-person-plus"></i> Th√™m
                                        Nh√¢n Vi√™n</h5>
                                    <button type="button" class="btn-close text-white" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="addNhanVienForm" enctype="multipart/form-data">
                                        <div class="row">
                                            <!-- C·ªôt 1: Avatar (Canh gi·ªØa) -->
                                            <div class="col-md-4 d-flex flex-column align-items-center justify-content-center">
                                                <img id="avatarPreview" class="rounded-circle border shadow mb-3" width="150" height="150">
                                                <input type="file" class="form-control mt-2" id="hinhAnh"
                                                       accept="image/*" onchange="previewImage(event)">
                                                <div class="error-message" id="hinhAnhError"></div>
                                            </div>
                                            <!-- C·ªôt 2: Th√¥ng tin nh√¢n vi√™n -->
                                            <div class="col-md-8">
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-person"></i> H·ªç
                                                        T√™n</label>
                                                    <input type="text" class="form-control" id="hoTen"
                                                           placeholder="Nh·∫≠p h·ªç t√™n" required>
                                                    <div class="error-message" id="hoTenError"></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-person-circle"></i>
                                                            Username</label>
                                                        <input type="text" class="form-control" id="username"
                                                               placeholder="Nh·∫≠p username" required>
                                                        <div class="error-message" id="usernameError"></div>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-key"></i> M·∫≠t
                                                            kh·∫©u</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control border-end-0"
                                                                   id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                                                            <button class="btn btn-outline-secondary border-start-0"
                                                                    type="button" id="togglePassword">
                                                                <i class="bi bi-eye"></i>
                                                            </button>
                                                        </div>
                                                        <div class="text-danger mt-1 small" id="passwordError"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-envelope"></i>
                                                        Email</label>
                                                    <input type="email" class="form-control" id="email"
                                                           placeholder="Nh·∫≠p email" required>
                                                    <div class="error-message" id="emailError"></div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-house"></i> ƒê·ªãa
                                                        Ch·ªâ</label>
                                                    <input type="text" class="form-control" id="diaChi"
                                                           placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ">
                                                    <div class="error-message" id="diaChiError"></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-gender-ambiguous"></i>
                                                            Gi·ªõi T√≠nh</label>
                                                        <select class="form-select" id="gioiTinh">
                                                            <option value="true">Nam</option>
                                                            <option value="false">N·ªØ</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-calendar"></i> Ng√†y
                                                            Sinh</label>
                                                        <input type="date" class="form-control" id="ngaySinh">
                                                        <div class="error-message" id="ngaySinhError"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-toggle-on"></i> Tr·∫°ng Th√°i</label>
                                                    <select class="form-select" id="trangThai">
                                                        <option value="ƒêang Ho·∫°t ƒê·ªông">ƒêang Ho·∫°t ƒê·ªông</option>
                                                        <option value="Ng·ª´ng Ho·∫°t ƒê·ªông">Ng·ª´ng Ho·∫°t ƒê·ªông</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng
                                    </button>
                                    <button type="button" class="btn btn-primary" id="btnSave" onclick="saveNhanVien()">
                                        <i class="bi bi-save"></i> L∆∞u
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <table id="productTable" class="table table-striped table-bordered">
                        <thead class="table-dark">
                        <tr class="text-center">
                            <th class="text-center">#</th>
                            <th class="text-center">·∫¢nh</th>
                            <th class="text-center">T√™n Nh√¢n Vi√™n</th>
                            <th class="text-center">Ng√†y Sinh</th>
                            <th class="text-center">Gi·ªõi T√≠nh</th>
                            <th class="text-center">Vai Tr√≤</th>
                            <th class="text-center">Tr·∫°ng Th√°i</th>
                            <th class="text-center">Action</th>
                        </tr>
                        </thead>
                        <tbody id="nhanVienBody">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y b·∫±ng JavaScript -->
                        </tbody>
                    </table>
                    <!-- Modal S·ª≠a Nhan Vi√™n -->
                    <div class="modal fade" id="modalUpdateNhanVien" tabindex="-1" aria-labelledby="updateNhanVienLabel" aria-hidden="true">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header bg-primary text-white">
                                    <h5 class="modal-title" id="updateNhanVienLabel"><i class="bi bi-person-plus"></i> S·ª≠a Nh√¢n Vi√™n</h5>
                                    <button type="button" class="btn-close text-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="updateNhanVienForm">
                                        <input type="hidden" name="id" id="nhanVienId">
                                        <div class="row">
                                            <!-- C·ªôt 1: Avatar -->
                                            <div class="col-md-4 d-flex flex-column align-items-center justify-content-center">
                                                <img id="avatarPreview1" class="rounded-circle border shadow mb-3" width="150" height="150" alt="·∫¢nh Nh√¢n Vi√™n">
                                                <input type="file" class="form-control mt-2" accept="image/*" name="hinhAnh" onchange="previewImage(event)">
                                            </div>
                                            <!-- C·ªôt 2: Th√¥ng tin nh√¢n vi√™n -->
                                            <div class="col-md-8">
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-person"></i> H·ªç T√™n</label>
                                                    <input type="text" class="form-control" name="hoTen" placeholder="Nh·∫≠p h·ªç t√™n" required>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-person-circle"></i> Username</label>
                                                        <input type="text" class="form-control" name="username" placeholder="Nh·∫≠p username" required>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-key"></i> M·∫≠t Kh·∫©u</label>
                                                        <input type="password" class="form-control" name="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-envelope"></i> Email</label>
                                                    <input type="email" class="form-control" name="email" placeholder="Nh·∫≠p email" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-house"></i> ƒê·ªãa Ch·ªâ</label>
                                                    <input type="text" class="form-control" name="diaChi" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ">
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-gender-ambiguous"></i> Gi·ªõi T√≠nh</label>
                                                        <select class="form-select" name="gioiTinh">
                                                            <option value="true">Nam</option>
                                                            <option value="false">N·ªØ</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="form-label"><i class="bi bi-calendar"></i> Ng√†y Sinh</label>
                                                        <input type="date" class="form-control" name="ngaySinh">
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label"><i class="bi bi-toggle-on"></i> Tr·∫°ng Th√°i</label>
                                                    <select class="form-select" name="trangThai">
                                                        <option value="ƒêang Ho·∫°t ƒê·ªông">ƒêang Ho·∫°t ƒê·ªông</option>
                                                        <option value="Ng·ª´ng Ho·∫°t ƒê·ªông">Ng·ª´ng Ho·∫°t ƒê·ªông</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                                    <button type="button" class="btn btn-primary" id="btnUpdate" onclick="updateNhanVien()">L∆∞u</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.box -->

        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <div th:replace="admin/fragments/footer :: footer"></div>


</div>
<!-- ./wrapper -->

<!-- jQuery 3 -->

<div th:replace="admin/fragments/script :: script"></div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // H√†m chuy·ªÉn ƒë·ªïi ng√†y sang ƒë·ªãnh d·∫°ng Vi·ªát Nam (dd/MM/yyyy)
        function formatDate(dateString) {
            if (!dateString) return "";
            const date = new Date(dateString);
            return date.toLocaleDateString("vi-VN", {
                day: "2-digit",
                month: "2-digit",
                year: "numeric"
            });
        }

        fetch('http://localhost:8080/api/nhan-vien')
            .then(response => response.json())
            .then(data => {
                const tbody = document.getElementById('nhanVienBody');
                tbody.innerHTML = ""; // X√≥a d·ªØ li·ªáu c≈© tr∆∞·ªõc khi th√™m m·ªõi

                data.forEach((nhanVien, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                    <td class="text-center">${index + 1}</td>
                    <td class="text-center"><img src="${nhanVien.hinhAnh}" alt="·∫¢nh Nh√¢n Vi√™n" width="50"></td>
                    <td class="text-center">${nhanVien.hoTen}</td>
                    <td class="text-center">${formatDate(nhanVien.ngaySinh)}</td>
                    <td class="text-center">${nhanVien.gioiTinh ? "Nam" : "N·ªØ"}</td>
                    <td class="text-center">${nhanVien.vaiTro}</td>
                    <td class="text-center">${nhanVien.trangThai}</td>
                    <td class="text-center">
                        <button class="btn btn-primary" onclick="editNhanVien(${nhanVien.id})">S·ª≠a</button>
                    </td>
                `;
                    tbody.appendChild(row);
                });
            })
            .catch(error => console.error('L·ªói khi t·∫£i d·ªØ li·ªáu:', error));
    });

    function previewImage(event) {
        const input = event.target;
        const preview = document.getElementById('avatarPreview');
        const preview1 = document.getElementById('avatarPreview1');

        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }

        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview1.src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    // H√†m m·ªü modal v√† ƒëi·ªÅn th√¥ng tin nh√¢n vi√™n v√†o form
    function editNhanVien(id) {
        // T√¨m nh√¢n vi√™n theo ID (b·∫°n c·∫ßn g·ªçi API ho·∫∑c s·ª≠ d·ª•ng d·ªØ li·ªáu ƒë√£ c√≥)
        fetch(`http://localhost:8080/api/nhan-vien/${id}`)
            .then(response => response.json())
            .then(nhanVien => {
                // C·∫≠p nh·∫≠t c√°c tr∆∞·ªùng th√¥ng tin trong form modal
                document.querySelector('#modalUpdateNhanVien input[name="hoTen"]').value = nhanVien.hoTen;
                document.querySelector('#modalUpdateNhanVien input[name="username"]').value = nhanVien.username;
                document.querySelector('#modalUpdateNhanVien input[name="email"]').value = nhanVien.email;
                document.querySelector('#modalUpdateNhanVien input[name="diaChi"]').value = nhanVien.diaChi;
                document.querySelector('#modalUpdateNhanVien select[name="gioiTinh"]').value = nhanVien.gioiTinh ? "true" : "false";
                document.querySelector('#modalUpdateNhanVien input[name="ngaySinh"]').value = nhanVien.ngaySinh;
                document.querySelector('#modalUpdateNhanVien select[name="trangThai"]').value = nhanVien.trangThai;
                document.querySelector('#modalUpdateNhanVien img#avatarPreview1').src = nhanVien.hinhAnh;

                // G√°n gi√° tr·ªã id v√†o tr∆∞·ªùng ·∫©n
                document.querySelector('#modalUpdateNhanVien #nhanVienId').value = nhanVien.id;

                // M·ªü modal
                new bootstrap.Modal(document.getElementById('modalUpdateNhanVien')).show();
            })
            .catch(error => console.error('L·ªói khi t·∫£i th√¥ng tin nh√¢n vi√™n:', error));
    }

    // H√†m l∆∞u th√¥ng tin ƒë√£ ch·ªânh s·ª≠a
    function validateForm() {
        let isValid = true;

        function showError(id, message) {
            const element = document.getElementById(id);
            element.classList.add("is-invalid");
            document.getElementById(id + "Error").innerText = message;
            isValid = false;
        }

        function clearError(id) {
            const element = document.getElementById(id);
            element.classList.remove("is-invalid");
            document.getElementById(id + "Error").innerText = "";
        }

        // Validate c√°c tr∆∞·ªùng vƒÉn b·∫£n
        const fields = ["hoTen", "username", "password", "email", "diaChi", "ngaySinh"];
        fields.forEach(field => {
            const value = document.getElementById(field).value.trim();
            if (!value) showError(field, "Tr∆∞·ªùng n√†y kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng");
            else clearError(field);
        });

        // Validate ng√†y sinh
        const ngaySinh = document.getElementById("ngaySinh").value.trim();
        const dateRegex = /^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;
        if (!dateRegex.test(ngaySinh)) {
            showError("ngaySinh", "Ng√†y sinh kh√¥ng h·ª£p l·ªá");
            return false;
        }

        // Validate email
        const email = document.getElementById("email").value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (email && !emailRegex.test(email)) {
            showError("email", "Email kh√¥ng h·ª£p l·ªá");
        }

        // Validate m·∫≠t kh·∫©u
        const password = document.getElementById("password").value;
        const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
        if (password && !passwordRegex.test(password)) {
            showError("password", "M·∫≠t kh·∫©u ph·∫£i c√≥ √≠t nh·∫•t 6 k√Ω t·ª±, g·ªìm c·∫£ ch·ªØ v√† s·ªë");
        }

        // Validate h√¨nh ·∫£nh
        const fileInput = document.getElementById("hinhAnh");
        if (fileInput.files.length > 0) {
            const file = fileInput.files[0];
            const validTypes = ["image/jpeg", "image/png", "image/jpg"];
            if (!validTypes.includes(file.type)) {
                showError("hinhAnh", "Ch·ªâ ch·∫•p nh·∫≠n ·∫£nh JPG, PNG, JPEG");
            } else if (file.size > 2 * 1024 * 1024) { // 2MB
                showError("hinhAnh", "·∫¢nh kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 2MB");
            } else {
                clearError("hinhAnh");
            }
        }

        return isValid;
    }

async function updateNhanVien() {
    const btnSubmit = document.getElementById("btnUpdate");
    btnSubmit.disabled = true;
    btnSubmit.innerHTML = `<i class="bi bi-hourglass-split"></i> ƒêang x·ª≠ l√Ω...`;

    const form = document.getElementById('updateNhanVienForm');
    const formData = new FormData();

    // C√°c tr∆∞·ªùng d·ªØ li·ªáu
    const fields = ['id', 'hoTen', 'username', 'email', 'diaChi', 'ngaySinh', 'trangThai', 'password'];
    fields.forEach(field => {
        const input = form.querySelector(`[name="${field}"]`);
        formData.append(field, input ? input.value : '');
    });

    // Gi·ªõi t√≠nh (boolean)
    const gioiTinh = form.querySelector('select[name="gioiTinh"]').value === "true";
    formData.append('gioiTinh', gioiTinh);

    // ·∫¢nh ƒë·∫°i di·ªán n·∫øu c√≥
    const fileInput = form.querySelector('input[name="hinhAnh"]');
    if (fileInput.files[0]) {
        formData.append('file', fileInput.files[0]);
    }

    try {
        const id = form.querySelector('input[name="id"]').value;
        const response = await fetch(`http://localhost:8080/api/nhan-vien/update/${id}`, {
            method: 'PUT',
            body: formData
        });

        const result = await response.json();

        clearFieldErrors(); // X√≥a l·ªói c≈© n·∫øu c√≥

        if (result.status === "success") {
            Swal.fire("C·∫≠p nh·∫≠t th√†nh c√¥ng!", "Th√¥ng tin nh√¢n vi√™n ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t.", "success")
                .then(() => location.reload());
        } else if (result.status === "warning") {
            for (const [field, message] of Object.entries(result.messages)) {
                showFieldError(field, message);
            }
            Swal.fire("Th√¥ng tin ch∆∞a h·ª£p l·ªá!", "Vui l√≤ng ki·ªÉm tra l·∫°i c√°c tr∆∞·ªùng.", "warning");
        } else {
            Swal.fire("L·ªói!", result.message || "C·∫≠p nh·∫≠t th·∫•t b·∫°i.", "error");
        }
    } catch (error) {
        Swal.fire("L·ªói h·ªá th·ªëng!", error.message, "error");
    } finally {
        btnSubmit.disabled = false;
        btnSubmit.innerHTML = `C·∫≠p nh·∫≠t Nh√¢n Vi√™n`;
    }
}

// ‚úÖ Hi·ªÉn th·ªã l·ªói theo t·ª´ng field
function showFieldError(fieldName, message) {
    const input = document.querySelector(`[name="${fieldName}"]`);
    if (!input) return;

    let errorEl = input.parentElement.querySelector('.text-danger');
    if (!errorEl) {
        errorEl = document.createElement('div');
        errorEl.className = 'text-danger mt-1';
        input.parentElement.appendChild(errorEl);
    }
    errorEl.innerText = message;
}

// ‚úÖ X√≥a l·ªói c≈©
function clearFieldErrors() {
    document.querySelectorAll('.text-danger').forEach(el => el.remove());
}



    async function saveNhanVien() {
        if (!validateForm()) {
            Swal.fire({
                title: "L·ªói!",
                text: "Vui l√≤ng ki·ªÉm tra l·∫°i c√°c tr∆∞·ªùng th√¥ng tin.",
                icon: "error",
                confirmButtonText: "OK"
            });
            return;
        }

        const btnSubmit = document.getElementById("btnSave");
        btnSubmit.disabled = true;
        btnSubmit.innerHTML = `<i class="bi bi-hourglass-split"></i> ƒêang x·ª≠ l√Ω...`;

        const formData = new FormData();
        formData.append("hoTen", document.getElementById("hoTen").value);
        formData.append("username", document.getElementById("username").value);
        formData.append("password", document.getElementById("password").value);
        formData.append("email", document.getElementById("email").value);
        formData.append("diaChi", document.getElementById("diaChi").value);
        formData.append("gioiTinh", document.getElementById("gioiTinh").value);
        formData.append("ngaySinh", document.getElementById("ngaySinh").value);
        formData.append("trangThai", document.getElementById("trangThai").value);

        const fileInput = document.getElementById("hinhAnh");
        if (fileInput.files.length > 0) {
            formData.append("file", fileInput.files[0]);
        }

        try {
            const response = await fetch("http://localhost:8080/api/nhan-vien/add", {
                method: "POST",
                body: formData
            });

            if (!response.ok) {
                throw new Error("C√≥ l·ªói x·∫£y ra khi th√™m nh√¢n vi√™n.");
            }

            await Swal.fire({
                title: "Th√†nh c√¥ng!",
                text: "Nh√¢n vi√™n ƒë√£ ƒë∆∞·ª£c th√™m th√†nh c√¥ng!",
                icon: "success",
                confirmButtonText: "OK"
            });

            setTimeout(() => location.reload(), 1500);

        } catch (error) {
            Swal.fire({
                title: "L·ªói!",
                text: error.message,
                icon: "error",
                confirmButtonText: "Th·ª≠ l·∫°i"
            });

        } finally {
            setTimeout(() => {
                btnSubmit.disabled = false;
                btnSubmit.innerHTML = `Th√™m nh√¢n vi√™n`;
            }, 2000);
        }
    }

    document.getElementById("togglePassword").addEventListener("click", function () {
        const passwordInput = document.getElementById("password");
        const icon = this.querySelector("i");

        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            icon.classList.remove("bi-eye");
            icon.classList.add("bi-eye-slash");
        } else {
            passwordInput.type = "password";
            icon.classList.remove("bi-eye-slash");
            icon.classList.add("bi-eye");
        }
    });

</script>

<script>
    $(document).ready(function () {
        $('#productTable').DataTable({
            "paging": true,
            "lengthMenu": [5, 10, 20],
            "pageLength": 5,
            "autoWidth": false,
            "responsive": true,
            "language": {
                "sProcessing": "ƒêang x·ª≠ l√Ω...",
                "sLengthMenu": "Hi·ªÉn th·ªã _MENU_ d√≤ng",
                "sZeroRecords": "Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu",
                "sInfo": "Hi·ªÉn th·ªã _START_ ƒë·∫øn _END_ trong t·ªïng _TOTAL_ d√≤ng",
                "sInfoEmpty": "Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ hi·ªÉn th·ªã",
                "sInfoFiltered": "(l·ªçc t·ª´ _MAX_ d√≤ng)",
                "sSearch": "T√¨m ki·∫øm:",
                "oPaginate": {
                    "sFirst": "ƒê·∫ßu",
                    "sPrevious": "Tr∆∞·ªõc",
                    "sNext": "Ti·∫øp",
                    "sLast": "Cu·ªëi"
                }
            }
        });
    });
</script>
<script src="/js/main.js"></script>
<script src="/js/DangNhap/login.js"></script>
<script src="/js/DangNhap/logout.js"></script>
</body>
</html>
